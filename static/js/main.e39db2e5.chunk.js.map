{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.js","APIService/APIservice.js","components/Modal/Modal.js","components/ImageGalleryItem/ImageGalleryItem.js","ImagesError/ImagesError.js","components/Button/Button.js","components/ImageGallery/ImageGallery.js","App.js","index.js","components/Modal/Modal.module.css"],"names":["module","exports","Searchbar","onSubmit","useState","searchQuery","setSearchQuery","className","s","searchbar","logo","href","src","alt","width","e","preventDefault","trim","toLowerCase","alert","searchForm","type","searchFormButton","size","searchFormButtonLabel","searchFormInput","autoComplete","value","onChange","currentTarget","pattern","autoFocus","placeholder","prototypes","PropTypes","func","api","fetchImg","page","console","log","url","fetch","then","response","json","data","catch","error","worm","Modal","closeModal","children","useEffect","document","addEventListener","escFunction","removeEventListener","keyCode","createPortal","overlay","onClick","modal","getElementById","protoType","node","ImageGalleryItem","images","stateModal","setStateModal","urlImgModal","setUrlImgModal","openModal","target","dataset","map","image","imageGalleryItem","imageGalleryItemImage","largeImageURL","webformatURL","tag","id","array","ImagesError","errorQuery","errorSearchQuery","string","Button","addImages","pages","currentPage","message","disabled","button","ImageGallery","setImages","imagesTotal","setImagesTotal","status","setStatus","setCurrentPage","imagesAPI","total","hits","totalHits","availablePages","Math","ceil","sl","loader","color","height","timeout","imageGallery","finally","window","scrollTo","top","documentElement","scrollHeight","behavior","App","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.e39db2e5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__2cjH6\",\"imageGalleryItemImage\":\"ImageGalleryItem_imageGalleryItemImage__3YIb-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__1Qw6B\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__2d4NC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__1nrf2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__iueXA\",\"logo\":\"Searchbar_logo__1Owml\",\"searchForm\":\"Searchbar_searchForm__NXg8G\",\"searchFormButton\":\"Searchbar_searchFormButton__2yJSd\",\"searchFormButtonLabel\":\"Searchbar_searchFormButtonLabel__1TT_Y\",\"searchFormInput\":\"Searchbar_searchFormInput__aDbFG\"};","import React, { useState } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport s from \"../Searchbar/Searchbar.module.css\";\nimport { BiSearchAlt } from \"react-icons/bi\";\n\n\n\nfunction Searchbar({ onSubmit }) {\n  const [searchQuery, setSearchQuery] = useState(\"\");\n\n  const handleChange = (e) => {\n    const { value } = e.currentTarget;\n    setSearchQuery(value);\n  };\n\n  const reset = () => {\n    setSearchQuery(\"\");\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    setSearchQuery(searchQuery.trim().toLowerCase());\n\n    if (searchQuery === \"\") {\n      alert(\"Input is empty\");\n      return;\n    }\n\n    onSubmit(searchQuery);\n\n    reset();\n  };\n\n  return (\n    <header className={s.searchbar}>\n      <div className={s.logo}>\n        <a href=\"https://pixabay.com/\">\n          <img\n            src=\"https://pixabay.com/static/img/public/medium_rectangle_a.png\"\n            alt=\"Pixabay\"\n            width=\"48\"\n          />\n        </a>\n      </div>\n\n      <form onSubmit={handleSubmit} className={s.searchForm}>\n        <button type=\"submit\" className={s.searchFormButton}>\n          <BiSearchAlt size=\"20\" />\n          <span className={s.searchFormButtonLabel}>Search</span>\n        </button>\n\n        <input\n          className={s.searchFormInput}\n          type=\"text\"\n          autoComplete=\"off\"\n          value={searchQuery}\n          onChange={handleChange}\n          pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n        />\n      </form>\n    </header>\n  );\n}\n\nexport default Searchbar;\n\nSearchbar.prototypes = {\n  onSubmit: PropTypes.func,\n};\n","const BASE_URL = \"https://pixabay.com/api/\";\nconst API_KEY = \"22960570-8de4834e5e1a62c8570402763\";\n\nfunction fetchImg(searchQuery, page) {\n   console.log(page)\n  const url = `${BASE_URL}?key=${API_KEY}&q=${searchQuery}&image_type=photo&orientation=horizontal&page=${page}&per_page=12`;\n\n  return fetch(url)\n    .then((response) => response.json())\n\n    // .then((data) => data)\n    .then((data) => {\n      page += 1;\n      return data\n    })\n\n    .catch((error) => console.worm(error));\n}\n\nconst api = { fetchImg };\n\nexport default api;\n","import React, { useEffect } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport PropTypes from \"prop-types\";\n\nimport s from \"./Modal.module.css\";\n\nfunction Modal({ closeModal, children }) {\n  useEffect(() => {\n    document.addEventListener(\"keydown\", escFunction, false);\n\n    return () => {\n      document.removeEventListener(\"keydown\", escFunction, false);\n    };\n  });\n\n  const escFunction = (e) => {\n    if (e.keyCode === 27) {\n      closeModal();\n    }\n  };\n\n  return createPortal(\n    <div\n      className={s.overlay}\n      onClick={(e) => {\n        closeModal();\n      }}\n    >\n      <div className={s.modal}>{children}</div>\n    </div>,\n\n    document.getElementById(\"modal-root\")\n  );\n}\n\nModal.protoType = {\n  closeModal: PropTypes.func,\n  children: PropTypes.node,\n};\n\nexport default Modal;\n","import React, { useState } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport Modal from \"../Modal/Modal\";\n\nimport s from \"./ImageGalleryItem.module.css\";\n\nfunction ImageGalleryItem({ images }) {\n  const [stateModal, setStateModal] = useState(false);\n  const [urlImgModal, setUrlImgModal] = useState(\"\");\n\n  const openModal = (e) => {\n    setStateModal(true);\n    setUrlImgModal(e.target.dataset.url);\n  };\n\n  const closeModal = (e) => {\n    setStateModal(false);\n  };\n\n  return (\n    <>\n      {images.map((image) => (\n        <li className={s.imageGalleryItem} key={image.id}>\n          <img\n            onClick={openModal}\n            className={s.imageGalleryItemImage}\n            data-url={image.largeImageURL}\n            src={image.webformatURL}\n            alt={image.tag}\n          />\n        </li>\n      ))}\n\n      {stateModal && (\n        <Modal closeModal={closeModal}>\n          <img src={urlImgModal} alt=\"\" />\n        </Modal>\n      )}\n    </>\n  );\n}\n\nImageGalleryItem.protoType = {\n  images: PropTypes.array,\n};\n\nexport default ImageGalleryItem;\n","import PropTypes from \"prop-types\";\n\nfunction ImagesError({ errorQuery }) {\n  return <p>Images with the name \"{errorQuery}\" were not found, try again! </p>;\n}\n\nImagesError.protoType = {\n  errorSearchQuery: PropTypes.string,\n};\n\nexport default ImagesError;\n","import PropTypes from \"prop-types\";\nimport s from \"./Button.module.css\";\n\nfunction Button({ addImages, pages, currentPage }) {\n  const message = currentPage < pages ? \"Load more...\" : \"That's all\";\n\n  const disabled = currentPage < pages ? false : true;\n\n  return (\n    <button\n      type=\"button\"\n      className={s.button}\n      onClick={() => addImages()}\n      disabled={disabled}\n    >\n      {message}\n    </button>\n  );\n}\n\nButton.protoType = {\n  addImages: PropTypes.func,\n  pages: PropTypes.string,\n};\n\nexport default Button;\n","import React, { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Loader from \"react-loader-spinner\";\n\nimport imagesAPI from \"../../APIService/APIservice\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport ImagesError from \"../../ImagesError/ImagesError\";\nimport Button from \"../Button/Button\";\n\nimport s from \"../ImageGallery/ImageGallery.module.css\";\nimport sl from \"../Loader/Loader.module.css\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n\nfunction ImageGallery({ searchQuery }) {\n  const [images, setImages] = useState([]);\n  const [imagesTotal, setImagesTotal] = useState(null);\n  const [status, setStatus] = useState(\"idle\");\n  const [currentPage, setCurrentPage] = useState(1);\n\n  useEffect(() => {\n    setCurrentPage(1);\n    setImagesTotal(null);\n    setImages([]);\n  }, [searchQuery]);\n\n  useEffect(() => {\n    if (searchQuery !== \"\") {\n      setStatus(\"pending\");\n\n      imagesAPI\n        .fetchImg(searchQuery, currentPage)\n\n        .then((data) => {\n          if (data.total !== 0) {\n             console.log(data)\n            return (\n              setImages(data.hits),\n              setImagesTotal(data.totalHits),\n              setStatus(\"resolved\")\n            );\n          }\n\n          return setStatus(\"rejected\");\n        });\n    }\n  }, [currentPage, searchQuery]);\n\n  const addImages = () => {\n    setStatus(\"pending\");\n    setCurrentPage(currentPage + 1);\n\n    imagesAPI\n\n      .fetchImg(searchQuery, currentPage)\n      .then((data) => {\n        // console.log(data)\n        return (\n          setImages([...images, ...data.hits]),\n          setStatus(\"resolved\"),\n          setCurrentPage(currentPage + 1)\n        );\n      })\n\n      .finally(() => {\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: \"smooth\",\n        });\n      });\n  };\n\n  const availablePages = Math.ceil(imagesTotal / 12);\n\n  if (status === \"idle\") {\n    return <div>Input search name, please</div>;\n  }\n\n  if (status === \"pending\") {\n    return (\n      <Loader\n        className={sl.loader}\n        type=\"BallTriangle\"\n        color=\"#00BFFF\"\n        height={80}\n        width={80}\n        timeout={3000}\n      />\n    );\n  }\n\n  if (status === \"rejected\") {\n    return <ImagesError errorQuery={searchQuery} />;\n  }\n\n  if (status === \"resolved\" && availablePages > 1) {\n    return (\n      <>\n        <ul className={s.imageGallery}>\n          <ImageGalleryItem images={images} />\n        </ul>\n\n        <Button\n          pages={availablePages}\n          currentPage={currentPage}\n          addImages={addImages}\n        />\n      </>\n    );\n  }\n\n  if (status === \"resolved\" || availablePages === 1) {\n    return (\n      <ul className={s.imageGallery}>\n        <ImageGalleryItem images={images} />\n      </ul>\n    );\n  }\n}\n// }\n\nImageGallery.prototypes = {\n  searchQuery: PropTypes.string,\n};\n\nexport default ImageGallery;\n","import React, { useState } from \"react\";\nimport \"./App.css\";\n\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\n\n\nfunction App () {\n  const [searchQuery, setSearchQuery] = useState(\"\");\n\n  const formSubmitHandler = (searchQuery) => {\n    setSearchQuery( searchQuery);\n  };\n\n  \n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={formSubmitHandler} />\n\n        <ImageGallery searchQuery={searchQuery} />\n      </div>\n    );\n  \n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport \"modern-normalize/modern-normalize.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__3Uceg\",\"modal\":\"Modal_modal__2slb0\"};"],"sourceRoot":""}